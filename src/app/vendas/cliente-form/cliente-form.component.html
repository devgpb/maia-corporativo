<form [formGroup]="clienteForm" (ngSubmit)="onSubmit()" class="p-3">

  <div class="row g-3 " style="width: 90%; margin: 0 auto">

    <!-- Nome -->
    <div class="col-md-6">
      <label class="form-label">Nome *</label>
      <input type="text" class="form-control" formControlName="nome" placeholder="Nome do Cliente"
        [ngClass]="{'is-invalid': clienteForm.get('nome')?.invalid && clienteForm.get('nome')?.touched}">
        <div class="invalid-feedback">Nome é obrigatório.</div>
      </div>

      <!-- Celular -->
      <div class="col-md-6">
        <label class="form-label">Celular *</label>
        <input type="text" class="form-control" formControlName="celular" appMask="celular" placeholder="(00) 00000-0000"
          [ngClass]="{'is-invalid': clienteForm.get('celular')?.invalid && clienteForm.get('celular')?.touched}">
          <div class="invalid-feedback" *ngIf="f['celular']?.errors?.['required']">
            Celular é obrigatório.
          </div>
          <div class="invalid-feedback" *ngIf="f['celular']?.errors?.['pattern']">
            Formato inválido. Use (00) 00000-0000, ex: (87) 99133-8119.
          </div>
        </div>

        <!-- Cidade -->
        <div class="col-md-6">
          <label class="form-label">Cidade</label>
            <ng-select
              [items]="cidades"
              formControlName="cidade"
              name="cidade"
              [searchable]="true"
              [clearable]="true"
              [hideSelected]="true"
              [addTag]="true"
              placeholder="Digite ou selecione..."
              (add)="onAddCidade($event)">
            </ng-select>
          </div>


          <!-- Status -->
          <div class="col-md-6">
            <label class="form-label">Status</label>
            <ng-select
              [items]="statusList"
              formControlName="status"
              name="status"
              [searchable]="true"
              [clearable]="true"
              [hideSelected]="true"
              [addTag]="true"
              placeholder="Digite ou selecione..."
              (add)="onAddStatus($event)">
            </ng-select>

          </div>

          <!-- Indicação -->
          <div class="col-md-6">
            <label class="form-label">Indicação</label>
            <input type="text" class="form-control" formControlName="indicacao" placeholder="Quem indicou o cliente?">
          </div>

          <!-- Campanha -->
          <div class="col-md-6">
            <label class="form-label">Campanha</label>
            <ng-select
              [items]="listaCampanhas"
              formControlName="campanha"
              name="campanha"
              [searchable]="true"
              [clearable]="true"
              [hideSelected]="true"
              [addTag]="true"
              placeholder="Digite ou selecione..."
              (add)="onAddCampanha($event)">
            </ng-select>
          </div>

          <!-- Observação -->
          <div class="col-12">
            <label class="form-label">Observação</label>
            <textarea class="form-control" rows="3" formControlName="observacao" placeholder="Alguma observação?"></textarea>
          </div>

          <!-- Botão -->
          <div class="col-12">
            <button type="submit" class="btn btn-primary mt-3">Salvar Cliente</button>
          </div>

        </div>
      </form>
